cmake_minimum_required(VERSION 3.13.1)
include($ENV{ZEPHYR_BASE}/cmake/app/boilerplate.cmake NO_POLICY_SCOPE)
project(stm32nucleo_zenoh)

set(Z_FEATURE_PUBLICATION 1 CACHE STRING "Toggle publication feature")
set(Z_FEATURE_SUBSCRIPTION 1 CACHE STRING "Toggle subscription feature")
set(Z_FEATURE_QUERY 0 CACHE STRING "Toggle query feature")
set(Z_FEATURE_QUERYABLE 0 CACHE STRING "Toggle queryable feature")
set(Z_FEATURE_INTEREST 0 CACHE STRING "Toggle interests")
set(Z_FEATURE_FRAGMENTATION 0 CACHE STRING "Toggle fragmentation")
set(Z_FEATURE_ENCODING_VALUES 0 CACHE STRING "Toggle encoding values")
set(Z_FEATURE_MULTI_THREAD 0 CACHE STRING "Toggle multithread")
set(Z_FEATURE_DYNAMIC_MEMORY_ALLOCATION 0 CACHE STRING "Toggle dynamic memory allocation")

set(Z_FEATURE_LINK_TCP 0 CACHE STRING "Toggle TCP links")
set(Z_FEATURE_LINK_BLUETOOTH 0 CACHE STRING "Toggle Bluetooth links")
set(Z_FEATURE_LINK_WS 0 CACHE STRING "Toggle WebSocket links")
set(Z_FEATURE_LINK_SERIAL 1 CACHE STRING "Toggle Serial links")
set(Z_FEATURE_SCOUTING_UDP 0 CACHE STRING "Toggle UDP scouting")
set(Z_FEATURE_LINK_UDP_MULTICAST 0 CACHE STRING "Toggle UDP multicast links")
set(Z_FEATURE_LINK_UDP_UNICAST 0 CACHE STRING "Toggle UDP unicast links")
set(Z_FEATURE_MULTICAST_TRANSPORT 0 CACHE STRING "Toggle multicast transport")
set(Z_FEATURE_UNICAST_TRANSPORT 0 CACHE STRING "Toggle unicast transport")
set(Z_FEATURE_RAWETH_TRANSPORT 0 CACHE STRING "Toggle raw ethernet transport")
set(Z_FEATURE_INTEREST 0 CACHE STRING "Toggle interest feature")

FILE(GLOB app_sources ../src/*.c*)
# FILE(GLOB app_sources ../src/z_pub.c)
target_sources(app PRIVATE ${app_sources})
